<div class="min-h-screen bg-gray-50">
  <!-- Desktop Sidebar -->
  <aside class="hidden lg:flex lg:flex-col lg:fixed lg:inset-y-0 lg:w-64 bg-gradient-to-br from-indigo-900 via-indigo-800 to-purple-900 text-white z-30">
    <!-- Logo -->
    <div class="flex items-center gap-3 p-6 border-b border-indigo-700">
      <div class="flex items-center justify-center w-10 h-10 bg-white/10 rounded-lg">
        <i class="pi pi-diamond text-xl"></i>
      </div>
      <div>
        <h1 class="text-xl font-bold">Jewellify</h1>
        <p class="text-xs text-indigo-300">Admin Panel</p>
      </div>
    </div>

    <!-- Navigation -->
    <nav class="flex-1 px-4 py-6 space-y-2 overflow-y-auto">
      <a
        *ngFor="let item of menuItems"
        [routerLink]="item.routerLink"
        routerLinkActive="bg-white/20 text-white font-semibold"
        class="flex items-center gap-3 px-4 py-3 rounded-lg text-indigo-100 hover:bg-white/10 hover:text-white transition-all duration-200"
      >
        <i [class]="item.icon + ' text-lg'"></i>
        <span>{{ item.label }}</span>
      </a>
    </nav>

    <!-- User Profile -->
    <div class="p-4 border-t border-indigo-700">
      <div class="bg-white/10 rounded-lg p-4">
        <div class="flex items-center gap-3 mb-3">
          <p-avatar
            [label]="(currentUser?.userName?.charAt(0) || 'U').toUpperCase()"
            shape="circle"
            size="large"
            styleClass="bg-white text-indigo-600 font-bold"
          ></p-avatar>
          <div class="flex-1 min-w-0">
            <p class="text-sm font-bold truncate text-white">{{ currentUser?.userName || 'User' }}</p>
            <p class="text-xs text-indigo-200 truncate">{{ currentUser?.email || '' }}</p>
          </div>
        </div>
        <div class="flex items-center justify-between pt-3 border-t border-white/20">
          <div class="flex items-center gap-2">
            <i class="pi pi-shield text-indigo-200"></i>
            <span class="text-xs font-semibold text-white">{{ currentUser?.role || 'User' }}</span>
          </div>
          <p-button
            icon="pi pi-sign-out"
            (onClick)="onLogout()"
            [text]="true"
            size="small"
            styleClass="text-white hover:bg-white/20 !p-2"
            pTooltip="Logout"
            tooltipPosition="top"
          ></p-button>
        </div>
      </div>
    </div>
  </aside>

  <!-- Mobile Sidebar -->
  <p-drawer [(visible)]="sidebarVisible" [baseZIndex]="1000" styleClass="lg:hidden w-64">
    <ng-template pTemplate="header">
      <div class="flex items-center gap-3">
        <div class="flex items-center justify-center w-10 h-10 bg-indigo-600 rounded-lg">
          <i class="pi pi-diamond text-xl text-white"></i>
        </div>
        <div>
          <h1 class="text-xl font-bold text-gray-800">Jewellify</h1>
          <p class="text-xs text-gray-600">Admin Panel</p>
        </div>
      </div>
    </ng-template>

    <nav class="space-y-2">
      <a
        *ngFor="let item of menuItems"
        [routerLink]="item.routerLink"
        routerLinkActive="bg-indigo-100 text-indigo-900 font-semibold"
        (click)="sidebarVisible = false"
        class="flex items-center gap-3 px-4 py-3 rounded-lg text-gray-700 hover:bg-gray-100 transition-all duration-200"
      >
        <i [class]="item.icon + ' text-lg'"></i>
        <span>{{ item.label }}</span>
      </a>
    </nav>

    <ng-template pTemplate="footer">
      <div class="border-t pt-4">
        <div class="bg-gradient-to-br from-indigo-50 to-purple-50 rounded-lg p-4 mb-3">
          <div class="flex items-center gap-3 mb-3">
            <p-avatar
              [label]="(currentUser?.userName?.charAt(0) || 'U').toUpperCase()"
              shape="circle"
              size="large"
              styleClass="bg-indigo-600 text-white font-bold"
            ></p-avatar>
            <div class="flex-1 min-w-0">
              <p class="text-sm font-bold truncate text-gray-800">{{ currentUser?.userName || 'User' }}</p>
              <p class="text-xs text-gray-600 truncate">{{ currentUser?.email || '' }}</p>
            </div>
          </div>
          <div class="flex items-center gap-2 px-2 py-1 bg-white rounded-md">
            <i class="pi pi-shield text-indigo-600 text-sm"></i>
            <span class="text-xs font-semibold text-indigo-600">{{ currentUser?.role || 'User' }}</span>
          </div>
        </div>
        <p-button
          label="Logout"
          icon="pi pi-sign-out"
          (onClick)="onLogout(); sidebarVisible = false"
          severity="danger"
          [outlined]="true"
          styleClass="w-full"
        ></p-button>
      </div>
    </ng-template>
  </p-drawer>

  <!-- Main Content -->
  <div class="lg:pl-64">
    <!-- Mobile Header -->
    <header class="lg:hidden sticky top-0 z-20 bg-white border-b border-gray-200 px-4 py-3">
      <div class="flex items-center justify-between">
        <div class="flex items-center gap-3">
          <p-button
            icon="pi pi-bars"
            (onClick)="toggleSidebar()"
            [text]="true"
            severity="secondary"
          ></p-button>
          <div class="flex items-center gap-2">
            <i class="pi pi-diamond text-indigo-600 text-xl"></i>
            <h1 class="text-lg font-bold text-gray-800">Jewellify</h1>
          </div>
        </div>
        <p-avatar
          [label]="(currentUser?.userName?.charAt(0) || 'U').toUpperCase()"
          shape="circle"
          styleClass="bg-indigo-600"
        ></p-avatar>
      </div>
    </header>

    <!-- Page Content -->
    <main class="min-h-screen pb-20 lg:pb-6">
      <router-outlet></router-outlet>
    </main>
  </div>

  <!-- Mobile Bottom Navigation -->
  <nav class="lg:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 z-20">
    <div class="grid grid-cols-5 gap-1 p-2">
      <a
        [routerLink]="'/dashboard'"
        routerLinkActive="text-indigo-600"
        class="flex flex-col items-center gap-1 py-2 px-1 text-gray-600 hover:text-indigo-600 transition-colors"
      >
        <i class="pi pi-home text-xl"></i>
        <span class="text-xs">Dashboard</span>
      </a>
      <a
        [routerLink]="'/inventory'"
        routerLinkActive="text-indigo-600"
        class="flex flex-col items-center gap-1 py-2 px-1 text-gray-600 hover:text-indigo-600 transition-colors"
      >
        <i class="pi pi-box text-xl"></i>
        <span class="text-xs">Inventory</span>
      </a>
      <a
        [routerLink]="'/customers'"
        routerLinkActive="text-indigo-600"
        class="flex flex-col items-center gap-1 py-2 px-1 text-gray-600 hover:text-indigo-600 transition-colors"
      >
        <i class="pi pi-users text-xl"></i>
        <span class="text-xs">Customers</span>
      </a>
      <a
        [routerLink]="'/orders'"
        routerLinkActive="text-indigo-600"
        class="flex flex-col items-center gap-1 py-2 px-1 text-gray-600 hover:text-indigo-600 transition-colors"
      >
        <i class="pi pi-shopping-cart text-xl"></i>
        <span class="text-xs">Orders</span>
      </a>
      <button
        (click)="toggleSidebar()"
        class="flex flex-col items-center gap-1 py-2 px-1 text-gray-600 hover:text-indigo-600 transition-colors"
      >
        <i class="pi pi-ellipsis-h text-xl"></i>
        <span class="text-xs">More</span>
      </button>
    </div>
  </nav>
</div>
